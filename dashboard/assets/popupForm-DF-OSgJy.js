import{e as N,a7 as q,al as z,a as B,A as R,m as d,Y as b,N as p,o as s,O as i,Z as c,k,j as P,s as e,_ as $,T as j,a6 as V,l as r,a5 as x,V as h,U as _,h as K}from"./vue-DdIC1N8d.js";import{e as W,w as G,x as L,_ as M}from"./index-C3V9u2Ed.js";import{b as u,r as O}from"./validate-BCdw8ftN.js";import{F as m}from"./index-1wj2obtz.js";import"./index-BGiSXJig.js";import"./index-B2cyAL5t.js";const Y={class:"title"},Z=N({__name:"popupForm",setup(H){const v=W(),C=G(),f=q("formRef"),a=z("baTable"),{t:l}=L.useI18n(),w=B({username:[u({name:"required",title:l("auth.admin.username")}),u({name:"account"})],nickname:[u({name:"required",title:l("auth.admin.nickname")})],group_arr:[u({name:"required",message:l("Please select field",{field:l("auth.admin.group")})})],email:[u({name:"email",message:l("Please enter the correct field",{field:l("auth.admin.email")})})],mobile:[u({name:"mobile",message:l("Please enter the correct field",{field:l("auth.admin.mobile")})})],password:[{validator:(g,o,n)=>{if(a.form.operate=="Add"){if(!o)return n(new Error(l("Please input field",{field:l("auth.admin.Password")})))}else if(!o)return n();return O(o)?n():n(new Error(l("validate.Please enter the correct password")))},trigger:"blur"}]});return R(()=>a.form.operate,g=>{w.password[0].required=g=="Add"}),(g,o)=>{const n=d("el-input"),U=d("el-form-item"),S=d("el-form"),A=d("el-scrollbar"),y=d("el-button"),I=d("el-dialog"),E=b("drag"),F=b("zoom"),T=b("loading"),D=b("blur");return s(),p(I,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(a).form.operate),onClose:e(a).toggleForm,"destroy-on-close":!0},{header:i(()=>[c((s(),K("div",Y,[h(_(e(a).form.operate?e(l)(e(a).form.operate):""),1)])),[[E,[".ba-operate-dialog",".el-dialog__header"]],[F,".ba-operate-dialog"]])]),footer:i(()=>[k("div",{style:P("width: calc(100% - "+e(a).form.labelWidth/1.8+"px)")},[r(y,{onClick:o[12]||(o[12]=t=>e(a).toggleForm(""))},{default:i(()=>[h(_(e(l)("Cancel")),1)]),_:1}),c((s(),p(y,{loading:e(a).form.submitLoading,onClick:o[13]||(o[13]=t=>e(a).onSubmit(e(f))),type:"primary"},{default:i(()=>[h(_(e(a).form.operateIds&&e(a).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[D]])],4)]),default:i(()=>[c((s(),p(A,{class:"ba-table-form-scrollbar"},{default:i(()=>[k("div",{class:$(["ba-operate-form","ba-"+e(a).form.operate+"-form"]),style:P(e(v).layout.shrink?"":"width: calc(100% - "+e(a).form.labelWidth/2+"px)")},[e(a).form.loading?j("",!0):(s(),p(S,{key:0,ref_key:"formRef",ref:f,onKeyup:o[11]||(o[11]=V(t=>e(a).onSubmit(e(f)),["enter"])),model:e(a).form.items,"label-position":e(v).layout.shrink?"top":"right","label-width":e(a).form.labelWidth+"px",rules:w},{default:i(()=>[r(m,{label:e(l)("auth.admin.username"),modelValue:e(a).form.items.username,"onUpdate:modelValue":o[0]||(o[0]=t=>e(a).form.items.username=t),type:"string",prop:"username",placeholder:e(l)("auth.admin.Administrator login")},null,8,["label","modelValue","placeholder"]),r(m,{label:e(l)("auth.admin.nickname"),modelValue:e(a).form.items.nickname,"onUpdate:modelValue":o[1]||(o[1]=t=>e(a).form.items.nickname=t),type:"string",prop:"nickname",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.nickname")})},null,8,["label","modelValue","placeholder"]),(s(),p(m,{label:e(l)("auth.admin.group"),modelValue:e(a).form.items.group_arr,"onUpdate:modelValue":o[2]||(o[2]=t=>e(a).form.items.group_arr=t),prop:"group_arr",type:"remoteSelect",key:"group-"+e(a).form.items.id,"input-attr":{multiple:!0,params:{isTree:!0,absoluteAuth:e(C).id==e(a).form.items.id?0:1},field:"name",remoteUrl:"/admin/auth.Group/index",placeholder:e(l)("Click select")}},null,8,["label","modelValue","input-attr"])),r(m,{label:e(l)("auth.admin.avatar"),type:"image",modelValue:e(a).form.items.avatar,"onUpdate:modelValue":o[3]||(o[3]=t=>e(a).form.items.avatar=t)},null,8,["label","modelValue"]),r(m,{label:e(l)("auth.admin.email"),prop:"email",modelValue:e(a).form.items.email,"onUpdate:modelValue":o[4]||(o[4]=t=>e(a).form.items.email=t),type:"string",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.email")})},null,8,["label","modelValue","placeholder"]),r(m,{label:e(l)("auth.admin.mobile"),prop:"mobile",modelValue:e(a).form.items.mobile,"onUpdate:modelValue":o[5]||(o[5]=t=>e(a).form.items.mobile=t),type:"string",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.mobile")})},null,8,["label","modelValue","placeholder"]),r(m,{label:e(l)("auth.admin.Password"),prop:"password",modelValue:e(a).form.items.password,"onUpdate:modelValue":o[6]||(o[6]=t=>e(a).form.items.password=t),type:"password","input-attr":{autocomplete:"new-password"},placeholder:e(a).form.operate=="Add"?e(l)("Please input field",{field:e(l)("auth.admin.Password")}):e(l)("auth.admin.Please leave blank if not modified")},null,8,["label","modelValue","placeholder"]),r(U,{prop:"motto",label:e(l)("auth.admin.Personal signature")},{default:i(()=>[r(n,{onKeyup:[o[7]||(o[7]=V(x(()=>{},["stop"]),["enter"])),o[8]||(o[8]=V(x(t=>e(a).onSubmit(e(f)),["ctrl"]),["enter"]))],modelValue:e(a).form.items.motto,"onUpdate:modelValue":o[9]||(o[9]=t=>e(a).form.items.motto=t),type:"textarea",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.Personal signature")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(m,{label:e(l)("State"),modelValue:e(a).form.items.status,"onUpdate:modelValue":o[10]||(o[10]=t=>e(a).form.items.status=t),type:"radio","input-attr":{border:!0,content:{disable:e(l)("Disable"),enable:e(l)("Enable")}}},null,8,["label","modelValue","input-attr"])]),_:1},8,["model","label-position","label-width","rules"]))],6)]),_:1})),[[T,e(a).form.loading]])]),_:1},8,["model-value","onClose"])}}}),oe=M(Z,[["__scopeId","data-v-6a91d450"]]);export{oe as default};
