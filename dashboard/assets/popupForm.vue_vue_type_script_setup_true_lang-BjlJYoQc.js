import{e as I,a7 as N,al as R,a as T,m as d,Y as p,N as u,o as n,O as i,Z as f,k as w,j as k,s as e,_ as z,T as D,a6 as b,a5 as c,l as m,V as g,U as V,h as $}from"./vue-DdIC1N8d.js";import{e as j,x as E}from"./index-C3V9u2Ed.js";import{F as r}from"./index-1wj2obtz.js";import{b as _}from"./validate-BCdw8ftN.js";const K={class:"title"},Y=I({__name:"popupForm",setup(W){const v=j(),s=N("formRef"),t=R("baTable"),{t:l}=E.useI18n(),x=T({content:[_({name:"editorRequired",title:l("comments.content")})],create_time:[_({name:"date",title:l("comments.create_time")})],update_time:[_({name:"date",title:l("comments.update_time")})]});return(q,o)=>{const C=d("el-form"),h=d("el-scrollbar"),y=d("el-button"),U=d("el-dialog"),S=p("drag"),P=p("zoom"),B=p("loading"),F=p("blur");return n(),u(U,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(t).form.operate),onClose:e(t).toggleForm,width:"50%"},{header:i(()=>[f((n(),$("div",K,[g(V(e(t).form.operate?e(l)(e(t).form.operate):""),1)])),[[S,[".ba-operate-dialog",".el-dialog__header"]],[P,".ba-operate-dialog"]])]),footer:i(()=>[w("div",{style:k("width: calc(100% - "+e(t).form.labelWidth/1.8+"px)")},[m(y,{onClick:o[12]||(o[12]=a=>e(t).toggleForm())},{default:i(()=>[g(V(e(l)("Cancel")),1)]),_:1}),f((n(),u(y,{loading:e(t).form.submitLoading,onClick:o[13]||(o[13]=a=>e(t).onSubmit(e(s))),type:"primary"},{default:i(()=>[g(V(e(t).form.operateIds&&e(t).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[F]])],4)]),default:i(()=>[f((n(),u(h,{class:"ba-table-form-scrollbar"},{default:i(()=>[w("div",{class:z(["ba-operate-form","ba-"+e(t).form.operate+"-form"]),style:k(e(v).layout.shrink?"":"width: calc(100% - "+e(t).form.labelWidth/2+"px)")},[e(t).form.loading?D("",!0):(n(),u(C,{key:0,ref_key:"formRef",ref:s,onSubmit:o[10]||(o[10]=c(()=>{},["prevent"])),onKeyup:o[11]||(o[11]=b(a=>e(t).onSubmit(e(s)),["enter"])),model:e(t).form.items,"label-position":e(v).layout.shrink?"top":"right","label-width":e(t).form.labelWidth+"px",rules:x},{default:i(()=>[m(r,{label:e(l)("comments.blog_id"),type:"remoteSelect",modelValue:e(t).form.items.blog_id,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).form.items.blog_id=a),prop:"blog_id","input-attr":{pk:"blogdetail.id",field:"title",remoteUrl:"/admin/Blogdetail/index"},placeholder:e(l)("Please select field",{field:e(l)("comments.blog_id")})},null,8,["label","modelValue","placeholder"]),m(r,{label:e(l)("comments.author"),type:"string",modelValue:e(t).form.items.author,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).form.items.author=a),prop:"author",placeholder:e(l)("Please input field",{field:e(l)("comments.author")})},null,8,["label","modelValue","placeholder"]),m(r,{label:e(l)("comments.content"),type:"editor",modelValue:e(t).form.items.content,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).form.items.content=a),prop:"content",onKeyup:[o[3]||(o[3]=b(c(()=>{},["stop"]),["enter"])),o[4]||(o[4]=b(c(a=>e(t).onSubmit(e(s)),["ctrl"]),["enter"]))],placeholder:e(l)("Please input field",{field:e(l)("comments.content")})},null,8,["label","modelValue","placeholder"]),m(r,{label:e(l)("comments.avatar"),type:"image",modelValue:e(t).form.items.avatar,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).form.items.avatar=a),prop:"avatar"},null,8,["label","modelValue"]),m(r,{label:e(l)("comments.website"),type:"string",modelValue:e(t).form.items.website,"onUpdate:modelValue":o[6]||(o[6]=a=>e(t).form.items.website=a),prop:"website",placeholder:e(l)("Please input field",{field:e(l)("comments.website")})},null,8,["label","modelValue","placeholder"]),m(r,{label:e(l)("comments.email"),type:"string",modelValue:e(t).form.items.email,"onUpdate:modelValue":o[7]||(o[7]=a=>e(t).form.items.email=a),prop:"email",placeholder:e(l)("Please input field",{field:e(l)("comments.email")})},null,8,["label","modelValue","placeholder"]),m(r,{label:e(l)("comments.parent_id"),type:"remoteSelect",modelValue:e(t).form.items.parent_id,"onUpdate:modelValue":o[8]||(o[8]=a=>e(t).form.items.parent_id=a),prop:"parent_id","input-attr":{pk:"comments.id",field:"id",remoteUrl:"/admin/Comments/index"},placeholder:e(l)("Please select field",{field:e(l)("comments.parent_id")})},null,8,["label","modelValue","placeholder"]),m(r,{label:e(l)("comments.status"),type:"switch",modelValue:e(t).form.items.status,"onUpdate:modelValue":o[9]||(o[9]=a=>e(t).form.items.status=a),prop:"status","input-attr":{content:{0:e(l)("comments.status 0"),1:e(l)("comments.status 1")}}},null,8,["label","modelValue","input-attr"])]),_:1},8,["model","label-position","label-width","rules"]))],6)]),_:1})),[[B,e(t).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{Y as _};
