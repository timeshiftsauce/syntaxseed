import{b as _,T as g,a as y}from"./index-B3Ea6OYo.js";import{u as I,a as k,P as L}from"./popupForm-ChwcVQpO.js";import{x as E,a7 as v}from"./index-CE4S5SW2.js";import{e as w,M as N,a as T,aI as x,A as C,m as u,Y as U,h as q,o as n,N as m,T as i,l,s as o,O as p,Z as A,i as D,k as S,U as z,at as P}from"./vue-5rLikWvG.js";import"./index-CZNKlKfc.js";import"./index-BqsO7Sfb.js";import"./validate-BRwK53XH.js";const B={class:"default-main ba-table-box"},R={class:"table-header-operate-text"},Y=w({name:"user/moneyLog",__name:"index",setup(F){const{t:e}=E.useI18n(),d=N().query.user_id??"",t=T({userInfo:{}}),r=new _(new v(I),{column:[{type:"selection",align:"center",operator:!1},{label:e("Id"),prop:"id",align:"center",operator:"=",operatorPlaceholder:e("Id"),width:70},{label:e("user.moneyLog.User ID"),prop:"user_id",align:"center",width:70},{label:e("user.moneyLog.User name"),prop:"user.username",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("user.moneyLog.User nickname"),prop:"user.nickname",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("user.moneyLog.Change balance"),prop:"money",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.Before change"),prop:"before",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.After change"),prop:"after",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.remarks"),prop:"memo",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),showOverflowTooltip:!0},{label:e("Create time"),prop:"create_time",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160}],dblClickNotEditColumn:["all"]},{defaultItems:{user_id:d,memo:""}});r.after.onSubmit=()=>{s(r.comSearch.form.user_id)},r.mount(),r.getData(),P("baTable",r);const s=a=>{a&&x(a)>0?k(a).then(c=>{t.userInfo=c.data.user}):t.userInfo={}};return s(r.comSearch.form.user_id),C(()=>r.comSearch.form.user_id,a=>{r.form.defaultItems.user_id=a,s(a)}),(a,c)=>{const b=u("el-alert"),f=u("el-button"),h=U("blur");return n(),q("div",B,[o(r).table.remark?(n(),m(b,{key:0,class:"ba-table-alert",title:o(r).table.remark,type:"info","show-icon":""},null,8,["title"])):i("",!0),l(g,{buttons:["refresh","add","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":o(e)("Quick search placeholder",{fields:o(e)("user.moneyLog.User name")+"/"+o(e)("user.moneyLog.User nickname")})},{default:p(()=>[o(D)(t.userInfo)?i("",!0):A((n(),m(f,{key:0,class:"table-header-operate"},{default:p(()=>[S("span",R,z(t.userInfo.username+"(ID:"+t.userInfo.id+") "+o(e)("user.moneyLog.balance")+":"+t.userInfo.money),1)]),_:1})),[[h]])]),_:1},8,["quick-search-placeholder"]),l(y),l(L)])}}});export{Y as default};
